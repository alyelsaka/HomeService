<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeServices - Login</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Language selector styling */
        .language-selector {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
        }

        #language-selector {
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: #fff;
            color: #333;
            font-size: 16px;
        }

        /* RTL support for Arabic */
        body[dir="rtl"] {
            direction: rtl;
            text-align: right;
        }
    </style>
</head>
<body class="auth-page">
    <nav class="navbar">
        <a href="index.html" class="nav-brand" data-translate="home">HomeServices</a>
        <div class="nav-links">
            <button onclick="location.href='register.html'" class="register-btn" data-translate="register">Register</button>
        </div>
    </nav>

    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <h2 data-translate="welcomeBack">Welcome Back</h2>
                <p data-translate="loginPrompt">Please log in to your account</p>
            </div>

            <form class="auth-form" id="loginForm">
                <div class="form-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" name="email" id="email" required placeholder="Email Address" data-translate="emailPlaceholder">
                </div>

                <div class="form-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" name="password" id="password" required placeholder="Password" data-translate="passwordPlaceholder">
                </div>

                <div class="form-options">
                    <label>
                        <input type="checkbox" name="remember"> <span data-translate="rememberMe">Remember me</span>
                    </label>
                    <a href="forgot-password.html" class="forgot-password" data-translate="forgotPassword">Forgot Password?</a>                </div>

                <button type="submit" class="auth-button" id="loginButton" data-translate="loginButton">Login</button>
            </form>

            <div class="auth-footer">
                <p data-translate="noAccount">Don't have an account? <a href="register.html" data-translate="registerLink">Register</a></p>
            </div>
        </div>
    </div>

    <!-- Language Selector -->
    <div class="language-selector">
        <select id="language-selector" onchange="changeLanguage(this.value)">
            <option value="en">ЁЯЗ║ЁЯЗ╕ English</option>
            <option value="zh">ЁЯЗиЁЯЗ│ ф╕нцЦЗ (Chinese)</option>
            <option value="es">ЁЯЗкЁЯЗ╕ Espa├▒ol (Spanish)</option>
            <option value="hi">ЁЯЗоЁЯЗ│ рд╣рд┐рдиреНрджреА (Hindi)</option>
            <option value="ar">ЁЯЗ╕ЁЯЗж ╪з┘Д╪╣╪▒╪и┘К╪й (Arabic)</option>
            <option value="pt">ЁЯЗ╡ЁЯЗ╣ Portugu├кs (Portuguese)</option>
            <option value="bn">ЁЯЗзЁЯЗй ржмрж╛ржВрж▓рж╛ (Bengali)</option>
            <option value="ru">ЁЯЗ╖ЁЯЗ║ ╨а╤Г╤Б╤Б╨║╨╕╨╣ (Russian)</option>
            <option value="ja">ЁЯЗпЁЯЗ╡ цЧецЬмшкЮ (Japanese)</option>
            <option value="pa">ЁЯЗоЁЯЗ│ рикрй░риЬри╛римрйА (Punjabi)</option>
            <option value="de">ЁЯЗйЁЯЗк Deutsch (German)</option>
            <option value="fr">ЁЯЗлЁЯЗ╖ Fran├зais (French)</option>
        </select>
    </div>

    <script>
        // Define translations for all supported languages
        const translations = {
            en: {
                home: "HomeServices",
                register: "Register",
                welcomeBack: "Welcome Back",
                loginPrompt: "Please log in to your account",
                emailPlaceholder: "Email Address",
                passwordPlaceholder: "Password",
                rememberMe: "Remember me",
                forgotPassword: "Forgot Password?",
                loginButton: "Login",
                noAccount: "Don't have an account?",
                registerLink: "Register"
            },
            zh: {
                home: "хо╢х║нцЬНхКб",
                register: "ц│ихЖМ",
                welcomeBack: "цмвш┐ОхЫЮцЭе",
                loginPrompt: "шп╖чЩ╗х╜ХцВичЪДш┤жцИ╖",
                emailPlaceholder: "чФ╡хнРщВоф╗╢хЬ░хЭА",
                passwordPlaceholder: "хпЖчаБ",
                rememberMe: "шо░ф╜ПцИС",
                forgotPassword: "х┐Шшо░хпЖчаБя╝Я",
                loginButton: "чЩ╗х╜Х",
                noAccount: "ц▓бцЬЙш┤жцИ╖я╝Я",
                registerLink: "ц│ихЖМ"
            },
            es: {
                home: "Servicios del Hogar",
                register: "Registrarse",
                welcomeBack: "Bienvenido de nuevo",
                loginPrompt: "Por favor, inicie sesi├│n en su cuenta",
                emailPlaceholder: "Correo electr├│nico",
                passwordPlaceholder: "Contrase├▒a",
                rememberMe: "Recu├йrdame",
                forgotPassword: "┬┐Olvid├│ su contrase├▒a?",
                loginButton: "Iniciar sesi├│n",
                noAccount: "┬┐No tiene una cuenta?",
                registerLink: "Registrarse"
            },
            hi: {
                home: "рд╣реЛрдо рд╕рд░реНрд╡рд┐рд╕реЗрдЬ",
                register: "рд░рдЬрд┐рд╕реНрдЯрд░",
                welcomeBack: "рд╡рд╛рдкрд╕ рд╕реНрд╡рд╛рдЧрдд рд╣реИ",
                loginPrompt: "рдХреГрдкрдпрд╛ рдЕрдкрдиреЗ рдЦрд╛рддреЗ рдореЗрдВ рд▓реЙрдЧрд┐рди рдХрд░реЗрдВ",
                emailPlaceholder: "рдИрдореЗрд▓ рдкрддрд╛",
                passwordPlaceholder: "рдкрд╛рд╕рд╡рд░реНрдб",
                rememberMe: "рдореБрдЭреЗ рдпрд╛рдж рд░рдЦреЗрдВ",
                forgotPassword: "рдкрд╛рд╕рд╡рд░реНрдб рднреВрд▓ рдЧрдП?",
                loginButton: "рд▓реЙрдЧрд┐рди",
                noAccount: "рдЦрд╛рддрд╛ рдирд╣реАрдВ рд╣реИ?",
                registerLink: "рд░рдЬрд┐рд╕реНрдЯрд░"
            },
            ar: {
                home: "╪о╪п┘Е╪з╪к ╪з┘Д┘Е┘Ж╪▓┘Д",
                register: "╪к╪│╪м┘К┘Д",
                welcomeBack: "┘Е╪▒╪н╪и┘Л╪з ╪и╪╣┘И╪п╪к┘Г",
                loginPrompt: "┘К╪▒╪м┘Й ╪к╪│╪м┘К┘Д ╪з┘Д╪п╪о┘И┘Д ╪е┘Д┘Й ╪н╪│╪з╪и┘Г",
                emailPlaceholder: "╪╣┘Ж┘И╪з┘Ж ╪з┘Д╪и╪▒┘К╪п ╪з┘Д╪е┘Д┘Г╪к╪▒┘И┘Ж┘К",
                passwordPlaceholder: "┘Г┘Д┘Е╪й ╪з┘Д┘Е╪▒┘И╪▒",
                rememberMe: "╪к╪░┘Г╪▒┘Ж┘К",
                forgotPassword: "┘З┘Д ┘Ж╪│┘К╪к ┘Г┘Д┘Е╪й ╪з┘Д┘Е╪▒┘И╪▒╪Я",
                loginButton: "╪к╪│╪м┘К┘Д ╪з┘Д╪п╪о┘И┘Д",
                noAccount: "┘Д┘К╪│ ┘Д╪п┘К┘Г ╪н╪│╪з╪и╪Я",
                registerLink: "╪к╪│╪м┘К┘Д"
            },
            pt: {
                home: "Servi├зos Dom├йsticos",
                register: "Registrar",
                welcomeBack: "Bem-vindo de volta",
                loginPrompt: "Por favor, fa├зa login na sua conta",
                emailPlaceholder: "Endere├зo de e-mail",
                passwordPlaceholder: "Senha",
                rememberMe: "Lembre-se de mim",
                forgotPassword: "Esqueceu a senha?",
                loginButton: "Login",
                noAccount: "N├гo tem uma conta?",
                registerLink: "Registrar"
            },
            bn: {
                home: "рж╣рзЛржо рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж╕",
                register: "ржирж┐ржмржирзНржзржи",
                welcomeBack: "ржлрж┐рж░рзЗ ржЖрж╕рж╛рж░ ржЬржирзНржп рж╕рзНржмрж╛ржЧрждржо",
                loginPrompt: "ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗ рж▓ржЧржЗржи ржХрж░рзБржи",
                emailPlaceholder: "ржЗржорзЗрж▓ ржарж┐ржХрж╛ржирж╛",
                passwordPlaceholder: "ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб",
                rememberMe: "ржЖржорж╛ржХрзЗ ржоржирзЗ рж░рж╛ржЦрзБржи",
                forgotPassword: "ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржнрзБрж▓рзЗ ржЧрзЗржЫрзЗржи?",
                loginButton: "рж▓ржЧржЗржи",
                noAccount: "ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржирзЗржЗ?",
                registerLink: "ржирж┐ржмржирзНржзржи"
            },
            ru: {
                home: "╨Ф╨╛╨╝╨░╤И╨╜╨╕╨╡ ╨г╤Б╨╗╤Г╨│╨╕",
                register: "╨Ч╨░╤А╨╡╨│╨╕╤Б╤В╤А╨╕╤А╨╛╨▓╨░╤В╤М╤Б╤П",
                welcomeBack: "╨б ╨▓╨╛╨╖╨▓╤А╨░╤Й╨╡╨╜╨╕╨╡╨╝",
                loginPrompt: "╨Я╨╛╨╢╨░╨╗╤Г╨╣╤Б╤В╨░, ╨▓╨╛╨╣╨┤╨╕╤В╨╡ ╨▓ ╤Б╨▓╨╛╨╣ ╨░╨║╨║╨░╤Г╨╜╤В",
                emailPlaceholder: "╨Р╨┤╤А╨╡╤Б ╤Н╨╗╨╡╨║╤В╤А╨╛╨╜╨╜╨╛╨╣ ╨┐╨╛╤З╤В╤Л",
                passwordPlaceholder: "╨Я╨░╤А╨╛╨╗╤М",
                rememberMe: "╨Ч╨░╨┐╨╛╨╝╨╜╨╕╤В╤М ╨╝╨╡╨╜╤П",
                forgotPassword: "╨Ч╨░╨▒╤Л╨╗╨╕ ╨┐╨░╤А╨╛╨╗╤М?",
                loginButton: "╨Т╨╛╨╣╤В╨╕",
                noAccount: "╨Э╨╡╤В ╨░╨║╨║╨░╤Г╨╜╤В╨░?",
                registerLink: "╨Ч╨░╤А╨╡╨│╨╕╤Б╤В╤А╨╕╤А╨╛╨▓╨░╤В╤М╤Б╤П"
            },
            ja: {
                home: "уГЫуГ╝уГауВ╡уГ╝уГУуВ╣",
                register: "чЩ╗щМ▓",
                welcomeBack: "уБКуБЛуБИуВКуБкуБХуБД",
                loginPrompt: "уВвуВлуВжуГ│уГИуБлуГнуВ░уВдуГ│уБЧуБжуБПуБауБХуБД",
                emailPlaceholder: "уГбуГ╝уГлуВвуГЙуГмуВ╣",
                passwordPlaceholder: "уГСуВ╣уГпуГ╝уГЙ",
                rememberMe: "уГнуВ░уВдуГ│чК╢цЕЛуВТф┐ЭцМБуБЩуВЛ",
                forgotPassword: "уГСуВ╣уГпуГ╝уГЙуВТуБКх┐ШуВМуБзуБЩуБЛя╝Я",
                loginButton: "уГнуВ░уВдуГ│",
                noAccount: "уВвуВлуВжуГ│уГИуВТуБКцМБуБбуБзуБкуБДуБзуБЩуБЛя╝Я",
                registerLink: "чЩ╗щМ▓"
            },
            pa: {
                home: "риШри░ ри╕рйЗри╡ри╛ри╡ри╛риВ",
                register: "ри░риЬри┐ри╕риЯри░",
                welcomeBack: "ри╡ри╛рикри╕ ри╕ри╡ри╛риЧрид ри╣рйИ",
                loginPrompt: "риХри┐ри░рикри╛ риХри░риХрйЗ риЖрикригрйЗ риЦри╛ридрйЗ ри╡ри┐рй▒риЪ ри▓рйМриЧриЗрии риХри░рйЛ",
                emailPlaceholder: "риИриорйЗри▓ рикридри╛",
                passwordPlaceholder: "рикри╛ри╕ри╡ри░риб",
                rememberMe: "риорйИриирйВрй░ рипри╛риж ри░рй▒риЦрйЛ",
                forgotPassword: "рикри╛ри╕ри╡ри░риб ринрйБрй▒ри▓ риЧриП?",
                loginButton: "ри▓рйМриЧриЗрии",
                noAccount: "риЦри╛ридри╛ риири╣рйАриВ ри╣рйИ?",
                registerLink: "ри░риЬри┐ри╕риЯри░"
            },
            de: {
                home: "Hausdienstleistungen",
                register: "Registrieren",
                welcomeBack: "Willkommen zur├╝ck",
                loginPrompt: "Bitte melden Sie sich in Ihrem Konto an",
                emailPlaceholder: "E-Mail-Adresse",
                passwordPlaceholder: "Passwort",
                rememberMe: "Angemeldet bleiben",
                forgotPassword: "Passwort vergessen?",
                loginButton: "Anmelden",
                noAccount: "Kein Konto?",
                registerLink: "Registrieren"
            },
            fr: {
                home: "Services ├а Domicile",
                register: "S'inscrire",
                welcomeBack: "Bienvenue ├а nouveau",
                loginPrompt: "Veuillez vous connecter ├а votre compte",
                emailPlaceholder: "Adresse e-mail",
                passwordPlaceholder: "Mot de passe",
                rememberMe: "Se souvenir de moi",
                forgotPassword: "Mot de passe oubli├й?",
                loginButton: "Connexion",
                noAccount: "Pas de compte?",
                registerLink: "S'inscrire"
            }
        };

        // Function to change language
        function changeLanguage(language) {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[language] && translations[language][key]) {
                    element.textContent = translations[language][key];
                }
            });

            // Update text direction for RTL languages (e.g., Arabic)
            if (language === "ar") {
                document.body.setAttribute("dir", "rtl");
            } else {
                document.body.setAttribute("dir", "ltr");
            }
        }

        // Initialize with default language (English)
        document.addEventListener('DOMContentLoaded', () => {
            changeLanguage('en');
        });

        // Handle login form submission
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value.trim();

            if (!email || !password) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });

                const result = await response.json();

                if (response.ok) {
                    alert('Login successful!');
                    window.location.href = result.redirectUrl; // Redirect to the appropriate dashboard
                } else {
                    alert(result.message || 'Invalid credentials. Please try again.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred while logging in. Please try again later.');
            }
        });
    </script>
</body>
</html>