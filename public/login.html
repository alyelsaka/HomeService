<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeServices - Login</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Language selector styling */
        .language-selector {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
        }

        #language-selector {
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: #fff;
            color: #333;
            font-size: 16px;
        }

        /* RTL support for Arabic */
        body[dir="rtl"] {
            direction: rtl;
            text-align: right;
        }
    </style>
</head>
<body class="auth-page">
    <nav class="navbar">
        <a href="index.html" class="nav-brand" data-translate="home">HomeServices</a>
        <div class="nav-links">
            <button onclick="location.href='register.html'" class="register-btn" data-translate="register">Register</button>
        </div>
    </nav>

    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <h2 data-translate="welcomeBack">Welcome Back</h2>
                <p data-translate="loginPrompt">Please log in to your account</p>
            </div>

            <form class="auth-form" id="loginForm">
                <div class="form-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" name="email" id="email" required placeholder="Email Address" data-translate="emailPlaceholder">
                </div>

                <div class="form-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" name="password" id="password" required placeholder="Password" data-translate="passwordPlaceholder">
                </div>

                <div class="form-options">
                    <label>
                        <input type="checkbox" name="remember"> <span data-translate="rememberMe">Remember me</span>
                    </label>
                    <a href="forgot-password.html" class="forgot-password" data-translate="forgotPassword">Forgot Password?</a>                </div>

                <button type="submit" class="auth-button" id="loginButton" data-translate="loginButton">Login</button>
            </form>

            <div class="auth-footer">
                <p data-translate="noAccount">Don't have an account? <a href="register.html" data-translate="registerLink">Register</a></p>
            </div>
        </div>
    </div>

    <!-- Language Selector -->
    <div class="language-selector">
        <select id="language-selector" onchange="changeLanguage(this.value)">
            <option value="en">ğŸ‡ºğŸ‡¸ English</option>
            <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡ (Chinese)</option>
            <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol (Spanish)</option>
            <option value="hi">ğŸ‡®ğŸ‡³ à¤¹à¤¿à¤¨à¥à¤¦à¥€ (Hindi)</option>
            <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Arabic)</option>
            <option value="pt">ğŸ‡µğŸ‡¹ PortuguÃªs (Portuguese)</option>
            <option value="bn">ğŸ‡§ğŸ‡© à¦¬à¦¾à¦‚à¦²à¦¾ (Bengali)</option>
            <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹ (Russian)</option>
            <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª (Japanese)</option>
            <option value="pa">ğŸ‡®ğŸ‡³ à¨ªà©°à¨œà¨¾à¨¬à©€ (Punjabi)</option>
            <option value="de">ğŸ‡©ğŸ‡ª Deutsch (German)</option>
            <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais (French)</option>
        </select>
    </div>

    <script>
        // Define translations for all supported languages
        const translations = {
            en: {
                home: "HomeServices",
                register: "Register",
                welcomeBack: "Welcome Back",
                loginPrompt: "Please log in to your account",
                emailPlaceholder: "Email Address",
                passwordPlaceholder: "Password",
                rememberMe: "Remember me",
                forgotPassword: "Forgot Password?",
                loginButton: "Login",
                noAccount: "Don't have an account?",
                registerLink: "Register"
            },
            zh: {
                home: "å®¶åº­æœåŠ¡",
                register: "æ³¨å†Œ",
                welcomeBack: "æ¬¢è¿å›æ¥",
                loginPrompt: "è¯·ç™»å½•æ‚¨çš„è´¦æˆ·",
                emailPlaceholder: "ç”µå­é‚®ä»¶åœ°å€",
                passwordPlaceholder: "å¯†ç ",
                rememberMe: "è®°ä½æˆ‘",
                forgotPassword: "å¿˜è®°å¯†ç ï¼Ÿ",
                loginButton: "ç™»å½•",
                noAccount: "æ²¡æœ‰è´¦æˆ·ï¼Ÿ",
                registerLink: "æ³¨å†Œ"
            },
            es: {
                home: "Servicios del Hogar",
                register: "Registrarse",
                welcomeBack: "Bienvenido de nuevo",
                loginPrompt: "Por favor, inicie sesiÃ³n en su cuenta",
                emailPlaceholder: "Correo electrÃ³nico",
                passwordPlaceholder: "ContraseÃ±a",
                rememberMe: "RecuÃ©rdame",
                forgotPassword: "Â¿OlvidÃ³ su contraseÃ±a?",
                loginButton: "Iniciar sesiÃ³n",
                noAccount: "Â¿No tiene una cuenta?",
                registerLink: "Registrarse"
            },
            hi: {
                home: "à¤¹à¥‹à¤® à¤¸à¤°à¥à¤µà¤¿à¤¸à¥‡à¤œ",
                register: "à¤°à¤œà¤¿à¤¸à¥à¤Ÿà¤°",
                welcomeBack: "à¤µà¤¾à¤ªà¤¸ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ",
                loginPrompt: "à¤•à¥ƒà¤ªà¤¯à¤¾ à¤…à¤ªà¤¨à¥‡ à¤–à¤¾à¤¤à¥‡ à¤®à¥‡à¤‚ à¤²à¥‰à¤—à¤¿à¤¨ à¤•à¤°à¥‡à¤‚",
                emailPlaceholder: "à¤ˆà¤®à¥‡à¤² à¤ªà¤¤à¤¾",
                passwordPlaceholder: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡",
                rememberMe: "à¤®à¥à¤à¥‡ à¤¯à¤¾à¤¦ à¤°à¤–à¥‡à¤‚",
                forgotPassword: "à¤ªà¤¾à¤¸à¤µà¤°à¥à¤¡ à¤­à¥‚à¤² à¤—à¤?",
                loginButton: "à¤²à¥‰à¤—à¤¿à¤¨",
                noAccount: "à¤–à¤¾à¤¤à¤¾ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆ?",
                registerLink: "à¤°à¤œà¤¿à¤¸à¥à¤Ÿà¤°"
            },
            ar: {
                home: "Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…Ù†Ø²Ù„",
                register: "ØªØ³Ø¬ÙŠÙ„",
                welcomeBack: "Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ø¹ÙˆØ¯ØªÙƒ",
                loginPrompt: "ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø­Ø³Ø§Ø¨Ùƒ",
                emailPlaceholder: "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
                passwordPlaceholder: "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
                rememberMe: "ØªØ°ÙƒØ±Ù†ÙŠ",
                forgotPassword: "Ù‡Ù„ Ù†Ø³ÙŠØª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±ØŸ",
                loginButton: "ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„",
                noAccount: "Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ",
                registerLink: "ØªØ³Ø¬ÙŠÙ„"
            },
            pt: {
                home: "ServiÃ§os DomÃ©sticos",
                register: "Registrar",
                welcomeBack: "Bem-vindo de volta",
                loginPrompt: "Por favor, faÃ§a login na sua conta",
                emailPlaceholder: "EndereÃ§o de e-mail",
                passwordPlaceholder: "Senha",
                rememberMe: "Lembre-se de mim",
                forgotPassword: "Esqueceu a senha?",
                loginButton: "Login",
                noAccount: "NÃ£o tem uma conta?",
                registerLink: "Registrar"
            },
            bn: {
                home: "à¦¹à§‹à¦® à¦¸à¦¾à¦°à§à¦­à¦¿à¦¸à§‡à¦¸",
                register: "à¦¨à¦¿à¦¬à¦¨à§à¦§à¦¨",
                welcomeBack: "à¦«à¦¿à¦°à§‡ à¦†à¦¸à¦¾à¦° à¦œà¦¨à§à¦¯ à¦¸à§à¦¬à¦¾à¦—à¦¤à¦®",
                loginPrompt: "à¦…à¦¨à§à¦—à§à¦°à¦¹ à¦•à¦°à§‡ à¦†à¦ªà¦¨à¦¾à¦° à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿà§‡ à¦²à¦—à¦‡à¦¨ à¦•à¦°à§à¦¨",
                emailPlaceholder: "à¦‡à¦®à§‡à¦² à¦ à¦¿à¦•à¦¾à¦¨à¦¾",
                passwordPlaceholder: "à¦ªà¦¾à¦¸à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡",
                rememberMe: "à¦†à¦®à¦¾à¦•à§‡ à¦®à¦¨à§‡ à¦°à¦¾à¦–à§à¦¨",
                forgotPassword: "à¦ªà¦¾à¦¸à¦“à¦¯à¦¼à¦¾à¦°à§à¦¡ à¦­à§à¦²à§‡ à¦—à§‡à¦›à§‡à¦¨?",
                loginButton: "à¦²à¦—à¦‡à¦¨",
                noAccount: "à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦¨à§‡à¦‡?",
                registerLink: "à¦¨à¦¿à¦¬à¦¨à§à¦§à¦¨"
            },
            ru: {
                home: "Ğ”Ğ¾Ğ¼Ğ°ÑˆĞ½Ğ¸Ğµ Ğ£ÑĞ»ÑƒĞ³Ğ¸",
                register: "Ğ—Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ",
                welcomeBack: "Ğ¡ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸ĞµĞ¼",
                loginPrompt: "ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ Ğ² ÑĞ²Ğ¾Ğ¹ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚",
                emailPlaceholder: "ĞĞ´Ñ€ĞµÑ ÑĞ»ĞµĞºÑ‚Ñ€Ğ¾Ğ½Ğ½Ğ¾Ğ¹ Ğ¿Ğ¾Ñ‡Ñ‚Ñ‹",
                passwordPlaceholder: "ĞŸĞ°Ñ€Ğ¾Ğ»ÑŒ",
                rememberMe: "Ğ—Ğ°Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚ÑŒ Ğ¼ĞµĞ½Ñ",
                forgotPassword: "Ğ—Ğ°Ğ±Ñ‹Ğ»Ğ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ?",
                loginButton: "Ğ’Ğ¾Ğ¹Ñ‚Ğ¸",
                noAccount: "ĞĞµÑ‚ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°?",
                registerLink: "Ğ—Ğ°Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒÑÑ"
            },
            ja: {
                home: "ãƒ›ãƒ¼ãƒ ã‚µãƒ¼ãƒ“ã‚¹",
                register: "ç™»éŒ²",
                welcomeBack: "ãŠã‹ãˆã‚Šãªã•ã„",
                loginPrompt: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ãã ã•ã„",
                emailPlaceholder: "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",
                passwordPlaceholder: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰",
                rememberMe: "ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹",
                forgotPassword: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ãŠå¿˜ã‚Œã§ã™ã‹ï¼Ÿ",
                loginButton: "ãƒ­ã‚°ã‚¤ãƒ³",
                noAccount: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„ã§ã™ã‹ï¼Ÿ",
                registerLink: "ç™»éŒ²"
            },
            pa: {
                home: "à¨˜à¨° à¨¸à©‡à¨µà¨¾à¨µà¨¾à¨‚",
                register: "à¨°à¨œà¨¿à¨¸à¨Ÿà¨°",
                welcomeBack: "à¨µà¨¾à¨ªà¨¸ à¨¸à¨µà¨¾à¨—à¨¤ à¨¹à©ˆ",
                loginPrompt: "à¨•à¨¿à¨°à¨ªà¨¾ à¨•à¨°à¨•à©‡ à¨†à¨ªà¨£à©‡ à¨–à¨¾à¨¤à©‡ à¨µà¨¿à©±à¨š à¨²à©Œà¨—à¨‡à¨¨ à¨•à¨°à©‹",
                emailPlaceholder: "à¨ˆà¨®à©‡à¨² à¨ªà¨¤à¨¾",
                passwordPlaceholder: "à¨ªà¨¾à¨¸à¨µà¨°à¨¡",
                rememberMe: "à¨®à©ˆà¨¨à©‚à©° à¨¯à¨¾à¨¦ à¨°à©±à¨–à©‹",
                forgotPassword: "à¨ªà¨¾à¨¸à¨µà¨°à¨¡ à¨­à©à©±à¨² à¨—à¨?",
                loginButton: "à¨²à©Œà¨—à¨‡à¨¨",
                noAccount: "à¨–à¨¾à¨¤à¨¾ à¨¨à¨¹à©€à¨‚ à¨¹à©ˆ?",
                registerLink: "à¨°à¨œà¨¿à¨¸à¨Ÿà¨°"
            },
            de: {
                home: "Hausdienstleistungen",
                register: "Registrieren",
                welcomeBack: "Willkommen zurÃ¼ck",
                loginPrompt: "Bitte melden Sie sich in Ihrem Konto an",
                emailPlaceholder: "E-Mail-Adresse",
                passwordPlaceholder: "Passwort",
                rememberMe: "Angemeldet bleiben",
                forgotPassword: "Passwort vergessen?",
                loginButton: "Anmelden",
                noAccount: "Kein Konto?",
                registerLink: "Registrieren"
            },
            fr: {
                home: "Services Ã  Domicile",
                register: "S'inscrire",
                welcomeBack: "Bienvenue Ã  nouveau",
                loginPrompt: "Veuillez vous connecter Ã  votre compte",
                emailPlaceholder: "Adresse e-mail",
                passwordPlaceholder: "Mot de passe",
                rememberMe: "Se souvenir de moi",
                forgotPassword: "Mot de passe oubliÃ©?",
                loginButton: "Connexion",
                noAccount: "Pas de compte?",
                registerLink: "S'inscrire"
            }
        };

        // Function to change language
        function changeLanguage(language) {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[language] && translations[language][key]) {
                    element.textContent = translations[language][key];
                }
            });

            // Update text direction for RTL languages (e.g., Arabic)
            if (language === "ar") {
                document.body.setAttribute("dir", "rtl");
            } else {
                document.body.setAttribute("dir", "ltr");
            }
        }

        // Initialize with default language (English)
        document.addEventListener('DOMContentLoaded', () => {
            changeLanguage('en');
        });

        // Handle login form submission
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value.trim();

            if (!email || !password) {
                alert('Please fill in all fields.');
                return;
            }

            try {
                const response = await fetch('/auth/login', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email, password })
                });

                const result = await response.json();

                if (response.ok) {
                    alert('Login successful!');
                    window.location.href = result.redirectUrl; // Redirect to the appropriate dashboard
                } else {
                    alert(result.message || 'Invalid credentials. Please try again.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred while logging in. Please try again later.');
            }
        });
    </script>
</body>
</html>