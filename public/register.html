<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeServices - Register</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Language selector styling */
        .language-selector {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 1000;
        }

        #language-selector {
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background-color: #fff;
            color: #333;
            font-size: 16px;
        }

        /* RTL support for Arabic */
        body[dir="rtl"] {
            direction: rtl;
            text-align: right;
        }

        /* Hide worker fields by default */
        .worker-fields.hidden {
            display: none;
        }
    </style>
</head>
<body class="auth-page">
    <nav class="navbar">
        <a href="index.html" class="nav-brand" data-translate="home">HomeServices</a>
        <div class="nav-links">
            <button onclick="location.href='login.html'" class="login-btn" data-translate="login">Login</button>
        </div>
    </nav>

    <div class="auth-container">
        <div class="auth-card">
            <div class="auth-header">
                <h2 data-translate="createAccount">Create Account</h2>
                <p data-translate="joinCommunity">Join our community today</p>
            </div>

            <form class="auth-form" id="registerForm">
                <div class="form-group">
                    <i class="fas fa-user"></i>
                    <input type="text" name="full_name" required placeholder="Full Name" data-translate="fullNamePlaceholder">
                </div>

                <div class="form-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" name="email" required placeholder="Email Address" data-translate="emailPlaceholder">
                </div>

                <div class="form-group">
                    <i class="fas fa-phone"></i>
                    <input type="tel" name="phonenumber" required placeholder="Phone Number" data-translate="phonePlaceholder">
                </div>

                <div class="form-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" name="password" required placeholder="Password" data-translate="passwordPlaceholder">
                </div>

                <div class="form-group">
                    <i class="fas fa-user-tag"></i>
                    <select name="user_type" required id="userType" onchange="toggleWorkerFields(this.value)">
                        <option value="" data-translate="selectAccountType">Select Account Type</option>
                        <option value="client" data-translate="client">Client</option>
                        <option value="worker" data-translate="worker">Worker</option>
                    </select>
                </div>

                <div id="workerFields" class="worker-fields hidden">
                    <div class="form-group">
                        <i class="fas fa-tools"></i>
                        <select name="service_type" id="skills">
                            <option value="" data-translate="selectService">Select Your Service</option>
                            <option value="plumber" data-translate="plumber">Plumber</option>
                            <option value="electrician" data-translate="electrician">Electrician</option>
                            <option value="cleaner" data-translate="cleaner">Cleaner</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <i class="fas fa-briefcase"></i>
                        <input type="number" name="experience_years" id="experience" placeholder="Years of Experience" min="0" max="50" data-translate="experiencePlaceholder">
                    </div>
                </div>

                <button type="button" class="auth-button" id="registerBtn" data-translate="registerButton">Register</button>
            </form>

            <div class="auth-footer">
                <p data-translate="alreadyHaveAccount">Already have an account? <a href="login.html" data-translate="loginLink">Login</a></p>
            </div>
        </div>
    </div>

    <!-- Language Selector -->
    <div class="language-selector">
        <select id="language-selector" onchange="changeLanguage(this.value)">
            <option value="en">ЁЯЗ║ЁЯЗ╕ English</option>
            <option value="zh">ЁЯЗиЁЯЗ│ ф╕нцЦЗ (Chinese)</option>
            <option value="es">ЁЯЗкЁЯЗ╕ Espa├▒ol (Spanish)</option>
            <option value="hi">ЁЯЗоЁЯЗ│ рд╣рд┐рдиреНрджреА (Hindi)</option>
            <option value="ar">ЁЯЗ╕ЁЯЗж ╪з┘Д╪╣╪▒╪и┘К╪й (Arabic)</option>
            <option value="pt">ЁЯЗ╡ЁЯЗ╣ Portugu├кs (Portuguese)</option>
            <option value="bn">ЁЯЗзЁЯЗй ржмрж╛ржВрж▓рж╛ (Bengali)</option>
            <option value="ru">ЁЯЗ╖ЁЯЗ║ ╨а╤Г╤Б╤Б╨║╨╕╨╣ (Russian)</option>
            <option value="ja">ЁЯЗпЁЯЗ╡ цЧецЬмшкЮ (Japanese)</option>
            <option value="pa">ЁЯЗоЁЯЗ│ рикрй░риЬри╛римрйА (Punjabi)</option>
            <option value="de">ЁЯЗйЁЯЗк Deutsch (German)</option>
            <option value="fr">ЁЯЗлЁЯЗ╖ Fran├зais (French)</option>
        </select>
    </div>

    <script>
        // Define translations for all supported languages
        const translations = {
            en: {
                home: "HomeServices",
                login: "Login",
                createAccount: "Create Account",
                joinCommunity: "Join our community today",
                fullNamePlaceholder: "Full Name",
                emailPlaceholder: "Email Address",
                phonePlaceholder: "Phone Number",
                passwordPlaceholder: "Password",
                selectAccountType: "Select Account Type",
                client: "Client",
                worker: "Worker",
                selectService: "Select Your Service",
                plumber: "Plumber",
                electrician: "Electrician",
                cleaner: "Cleaner",
                experiencePlaceholder: "Years of Experience",
                registerButton: "Register",
                alreadyHaveAccount: "Already have an account?",
                loginLink: "Login"
            },
            zh: {
                home: "хо╢х║нцЬНхКб",
                login: "чЩ╗х╜Х",
                createAccount: "хИЫх╗║ш┤жцИ╖",
                joinCommunity: "члЛхН│хКахЕецИСф╗мчЪДчд╛хМ║",
                fullNamePlaceholder: "хЕихРН",
                emailPlaceholder: "чФ╡хнРщВоф╗╢хЬ░хЭА",
                phonePlaceholder: "чФ╡шпЭхП╖чаБ",
                passwordPlaceholder: "хпЖчаБ",
                selectAccountType: "щАЙцЛйш┤жцИ╖ч▒╗хЮЛ",
                client: "ховцИ╖",
                worker: "х╖еф║║",
                selectService: "щАЙцЛйцВичЪДцЬНхКб",
                plumber: "ц░┤чобх╖е",
                electrician: "чФ╡х╖е",
                cleaner: "ц╕Ец┤Бх╖е",
                experiencePlaceholder: "х╖еф╜Ьч╗ПщкМя╝Их╣┤я╝Й",
                registerButton: "ц│ихЖМ",
                alreadyHaveAccount: "х╖▓ч╗ПцЬЙш┤жцИ╖ф║Жя╝Я",
                loginLink: "чЩ╗х╜Х"
            },
            es: {
                home: "Servicios del Hogar",
                login: "Iniciar Sesi├│n",
                createAccount: "Crear Cuenta",
                joinCommunity: "├Ъnase a nuestra comunidad hoy",
                fullNamePlaceholder: "Nombre Completo",
                emailPlaceholder: "Correo Electr├│nico",
                phonePlaceholder: "N├║mero de Tel├йfono",
                passwordPlaceholder: "Contrase├▒a",
                selectAccountType: "Seleccionar Tipo de Cuenta",
                client: "Cliente",
                worker: "Trabajador",
                selectService: "Seleccione Su Servicio",
                plumber: "Fontanero",
                electrician: "Electricista",
                cleaner: "Limpieza",
                experiencePlaceholder: "A├▒os de Experiencia",
                registerButton: "Registrarse",
                alreadyHaveAccount: "┬┐Ya tienes una cuenta?",
                loginLink: "Iniciar Sesi├│n"
            },
            hi: {
                home: "рд╣реЛрдо рд╕рд░реНрд╡рд┐рд╕реЗрдЬ",
                login: "рд▓реЙрдЧрд┐рди",
                createAccount: "рдЦрд╛рддрд╛ рдмрдирд╛рдПрдВ",
                joinCommunity: "рдЖрдЬ рд╣реА рд╣рдорд╛рд░реЗ рд╕рдореБрджрд╛рдп рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВ",
                fullNamePlaceholder: "рдкреВрд░рд╛ рдирд╛рдо",
                emailPlaceholder: "рдИрдореЗрд▓ рдкрддрд╛",
                phonePlaceholder: "рдлреЛрди рдирдВрдмрд░",
                passwordPlaceholder: "рдкрд╛рд╕рд╡рд░реНрдб",
                selectAccountType: "рдЦрд╛рддрд╛ рдкреНрд░рдХрд╛рд░ рдЪреБрдиреЗрдВ",
                client: "рдЧреНрд░рд╛рд╣рдХ",
                worker: "рдХрд░реНрдордЪрд╛рд░реА",
                selectService: "рдЕрдкрдиреА рд╕реЗрд╡рд╛ рдЪреБрдиреЗрдВ",
                plumber: "рдкреНрд▓рдВрдмрд░",
                electrician: "рдЗрд▓реЗрдХреНрдЯреНрд░реАрд╢рд┐рдпрди",
                cleaner: "рд╕рдлрд╛рдИ рдХрд░реНрдордЪрд╛рд░реА",
                experiencePlaceholder: "рдЕрдиреБрднрд╡ (рд╡рд░реНрд╖)",
                registerButton: "рд░рдЬрд┐рд╕реНрдЯрд░",
                alreadyHaveAccount: "рдХреНрдпрд╛ рдЖрдкрдХреЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рдПрдХ рдЦрд╛рддрд╛ рд╣реИ?",
                loginLink: "рд▓реЙрдЧрд┐рди"
            },
            ar: {
                home: "╪о╪п┘Е╪з╪к ╪з┘Д┘Е┘Ж╪▓┘Д",
                login: "╪к╪│╪м┘К┘Д ╪з┘Д╪п╪о┘И┘Д",
                createAccount: "╪е┘Ж╪┤╪з╪б ╪н╪│╪з╪и",
                joinCommunity: "╪з┘Ж╪╢┘Е ╪е┘Д┘Й ┘Е╪м╪к┘Е╪╣┘Ж╪з ╪з┘Д┘К┘И┘Е",
                fullNamePlaceholder: "╪з┘Д╪з╪│┘Е ╪з┘Д┘Г╪з┘Е┘Д",
                emailPlaceholder: "╪╣┘Ж┘И╪з┘Ж ╪з┘Д╪и╪▒┘К╪п ╪з┘Д╪е┘Д┘Г╪к╪▒┘И┘Ж┘К",
                phonePlaceholder: "╪▒┘В┘Е ╪з┘Д┘З╪з╪к┘Б",
                passwordPlaceholder: "┘Г┘Д┘Е╪й ╪з┘Д┘Е╪▒┘И╪▒",
                selectAccountType: "╪з╪о╪к╪▒ ┘Ж┘И╪╣ ╪з┘Д╪н╪│╪з╪и",
                client: "╪╣┘Е┘К┘Д",
                worker: "╪╣╪з┘Е┘Д",
                selectService: "╪з╪о╪к╪▒ ╪о╪п┘Е╪к┘Г",
                plumber: "╪│╪и╪з┘Г",
                electrician: "┘Г┘З╪▒╪и╪з╪ж┘К",
                cleaner: "╪╣╪з┘Е┘Д ┘Ж╪╕╪з┘Б╪й",
                experiencePlaceholder: "╪│┘Ж┘И╪з╪к ╪з┘Д╪о╪и╪▒╪й",
                registerButton: "╪к╪│╪м┘К┘Д",
                alreadyHaveAccount: "┘З┘Д ┘Д╪п┘К┘Г ╪н╪│╪з╪и ╪и╪з┘Д┘Б╪╣┘Д╪Я",
                loginLink: "╪к╪│╪м┘К┘Д ╪з┘Д╪п╪о┘И┘Д"
            },
            pt: {
                home: "Servi├зos Dom├йsticos",
                login: "Login",
                createAccount: "Criar Conta",
                joinCommunity: "Junte-se ├а nossa comunidade hoje",
                fullNamePlaceholder: "Nome Completo",
                emailPlaceholder: "Endere├зo de E-mail",
                phonePlaceholder: "N├║mero de Telefone",
                passwordPlaceholder: "Senha",
                selectAccountType: "Selecione o Tipo de Conta",
                client: "Cliente",
                worker: "Trabalhador",
                selectService: "Selecione Seu Servi├зo",
                plumber: "Encanador",
                electrician: "Eletricista",
                cleaner: "Limpeza",
                experiencePlaceholder: "Anos de Experi├кncia",
                registerButton: "Registrar",
                alreadyHaveAccount: "J├б tem uma conta?",
                loginLink: "Login"
            },
            bn: {
                home: "рж╣рзЛржо рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж╕",
                login: "рж▓ржЧржЗржи",
                createAccount: "ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ рждрзИрж░рж┐ ржХрж░рзБржи",
                joinCommunity: "ржЖржЬржЗ ржЖржорж╛ржжрзЗрж░ рж╕ржорзНржкрзНрж░ржжрж╛ржпрж╝рзЗ ржпрзЛржЧ ржжрж┐ржи",
                fullNamePlaceholder: "ржкрзБрж░рзЛ ржирж╛ржо",
                emailPlaceholder: "ржЗржорзЗрж▓ ржарж┐ржХрж╛ржирж╛",
                phonePlaceholder: "ржлрзЛржи ржиржорзНржмрж░",
                passwordPlaceholder: "ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб",
                selectAccountType: "ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗрж░ ржзрж░ржи ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи",
                client: "ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ",
                worker: "ржХрж░рзНржорзА",
                selectService: "ржЖржкржирж╛рж░ ржкрж░рж┐рж╖рзЗржмрж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи",
                plumber: "ржкрзНрж▓рж╛ржорзНржмрж╛рж░",
                electrician: "ржЗрж▓рзЗржХржЯрзНрж░рж┐рж╢рж┐ржпрж╝рж╛ржи",
                cleaner: "ржкрж░рж┐ржЪрзНржЫржирзНржирждрж╛ ржХрж░рзНржорзА",
                experiencePlaceholder: "ржЕржнрж┐ржЬрзНржЮрждрж╛ (ржмржЫрж░)",
                registerButton: "ржирж┐ржмржирзНржзржи",
                alreadyHaveAccount: "ржЗрждрж┐ржоржзрзНржпрзЗ ржПржХржЯрж┐ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржЖржЫрзЗ?",
                loginLink: "рж▓ржЧржЗржи"
            },
            ru: {
                home: "╨Ф╨╛╨╝╨░╤И╨╜╨╕╨╡ ╨г╤Б╨╗╤Г╨│╨╕",
                login: "╨Т╨╛╨╣╤В╨╕",
                createAccount: "╨б╨╛╨╖╨┤╨░╤В╤М ╨Р╨║╨║╨░╤Г╨╜╤В",
                joinCommunity: "╨Я╤А╨╕╤Б╨╛╨╡╨┤╨╕╨╜╤П╨╣╤В╨╡╤Б╤М ╨║ ╨╜╨░╤И╨╡╨╝╤Г ╤Б╨╛╨╛╨▒╤Й╨╡╤Б╤В╨▓╤Г ╤Б╨╡╨│╨╛╨┤╨╜╤П",
                fullNamePlaceholder: "╨Я╨╛╨╗╨╜╨╛╨╡ ╨Ш╨╝╤П",
                emailPlaceholder: "╨Р╨┤╤А╨╡╤Б ╨н╨╗╨╡╨║╤В╤А╨╛╨╜╨╜╨╛╨╣ ╨Я╨╛╤З╤В╤Л",
                phonePlaceholder: "╨Э╨╛╨╝╨╡╤А ╨в╨╡╨╗╨╡╤Д╨╛╨╜╨░",
                passwordPlaceholder: "╨Я╨░╤А╨╛╨╗╤М",
                selectAccountType: "╨Т╤Л╨▒╨╡╤А╨╕╤В╨╡ ╨в╨╕╨┐ ╨Р╨║╨║╨░╤Г╨╜╤В╨░",
                client: "╨Ъ╨╗╨╕╨╡╨╜╤В",
                worker: "╨а╨░╨▒╨╛╤В╨╜╨╕╨║",
                selectService: "╨Т╤Л╨▒╨╡╤А╨╕╤В╨╡ ╨Т╨░╤И╤Г ╨г╤Б╨╗╤Г╨│╤Г",
                plumber: "╨б╨░╨╜╤В╨╡╤Е╨╜╨╕╨║",
                electrician: "╨н╨╗╨╡╨║╤В╤А╨╕╨║",
                cleaner: "╨г╨▒╨╛╤А╤Й╨╕╨║",
                experiencePlaceholder: "╨Ю╨┐╤Л╤В (╨╗╨╡╤В)",
                registerButton: "╨Ч╨░╤А╨╡╨│╨╕╤Б╤В╤А╨╕╤А╨╛╨▓╨░╤В╤М╤Б╤П",
                alreadyHaveAccount: "╨г╨╢╨╡ ╨╡╤Б╤В╤М ╨░╨║╨║╨░╤Г╨╜╤В?",
                loginLink: "╨Т╨╛╨╣╤В╨╕"
            },
            ja: {
                home: "уГЫуГ╝уГауВ╡уГ╝уГУуВ╣",
                login: "уГнуВ░уВдуГ│",
                createAccount: "уВвуВлуВжуГ│уГИуВТф╜ЬцИР",
                joinCommunity: "ф╗КцЧеуБЛуВЙчзБуБЯуБбуБоуВ│уГЯуГеуГЛуГЖуВгуБлхПВхКауБЧуБ╛уБЧуВЗуБЖ",
                fullNamePlaceholder: "уГХуГлуГНуГ╝уГа",
                emailPlaceholder: "уГбуГ╝уГлуВвуГЙуГмуВ╣",
                phonePlaceholder: "щЫ╗шй▒чХкхП╖",
                passwordPlaceholder: "уГСуВ╣уГпуГ╝уГЙ",
                selectAccountType: "уВвуВлуВжуГ│уГИуВ┐уВдуГЧуВТщБ╕цКЮ",
                client: "уВпуГйуВдуВвуГ│уГИ",
                worker: "уГпуГ╝уВлуГ╝",
                selectService: "уВ╡уГ╝уГУуВ╣уВТщБ╕цКЮ",
                plumber: "щЕНчобх╖е",
                electrician: "щЫ╗ц░ЧцКАх╕л",
                cleaner: "ц╕ЕцОГхУб",
                experiencePlaceholder: "ч╡МщиУх╣┤цХ░",
                registerButton: "чЩ╗щМ▓",
                alreadyHaveAccount: "уБЩуБзуБлуВвуВлуВжуГ│уГИуВТуБКцМБуБбуБзуБЩуБЛя╝Я",
                loginLink: "уГнуВ░уВдуГ│"
            },
            pa: {
                home: "риШри░ ри╕рйЗри╡ри╛ри╡ри╛риВ",
                login: "ри▓рйМриЧриЗрии",
                createAccount: "риЦри╛ридри╛ римригри╛риУ",
                joinCommunity: "риЕрй▒риЬ ри╣рйА ри╕ри╛рибрйЗ риХриори┐риКриири┐риЯрйА ри╡ри┐рй▒риЪ ри╕ри╝ри╛риори▓ ри╣рйЛри╡рйЛ",
                fullNamePlaceholder: "рикрйВри░ри╛ риири╛рио",
                emailPlaceholder: "риИриорйЗри▓ рикридри╛",
                phonePlaceholder: "рилрйЛрии риирй░римри░",
                passwordPlaceholder: "рикри╛ри╕ри╡ри░риб",
                selectAccountType: "риЦри╛ридрйЗ рижрйА риХри┐ри╕рио риЪрйБригрйЛ",
                client: "риХри▓ри╛риЗрй░риЯ",
                worker: "риХри░риориЪри╛ри░рйА",
                selectService: "риЖрикригрйА ри╕рйЗри╡ри╛ риЪрйБригрйЛ",
                plumber: "рикри▓рй░римри░",
                electrician: "риЗри▓рйИриХриЯрйНри░рйАри╕ри╝рйАриЕрии",
                cleaner: "ри╕рилри╛риИ риХри░риориЪри╛ри░рйА",
                experiencePlaceholder: "риЕриирйБринри╡ (ри╕ри╛ри▓)",
                registerButton: "ри░риЬри┐ри╕риЯри░",
                alreadyHaveAccount: "риХрйА ридрйБри╣ри╛рибрйЗ риХрйЛри▓ рикри╣ри┐ри▓ри╛риВ ридрйЛриВ ри╣рйА риЦри╛ридри╛ ри╣рйИ?",
                loginLink: "ри▓рйМриЧриЗрии"
            },
            de: {
                home: "Hausdienstleistungen",
                login: "Anmelden",
                createAccount: "Konto Erstellen",
                joinCommunity: "Treten Sie noch heute unserer Community bei",
                fullNamePlaceholder: "Vollst├дndiger Name",
                emailPlaceholder: "E-Mail-Adresse",
                phonePlaceholder: "Telefonnummer",
                passwordPlaceholder: "Passwort",
                selectAccountType: "Kontotyp Ausw├дhlen",
                client: "Kunde",
                worker: "Arbeiter",
                selectService: "W├дhlen Sie Ihren Service",
                plumber: "Klempner",
                electrician: "Elektriker",
                cleaner: "Reinigungskraft",
                experiencePlaceholder: "Berufserfahrung (Jahre)",
                registerButton: "Registrieren",
                alreadyHaveAccount: "Haben Sie bereits ein Konto?",
                loginLink: "Anmelden"
            },
            fr: {
                home: "Services ├а Domicile",
                login: "Connexion",
                createAccount: "Cr├йer un Compte",
                joinCommunity: "Rejoignez notre communaut├й aujourd'hui",
                fullNamePlaceholder: "Nom Complet",
                emailPlaceholder: "Adresse E-mail",
                phonePlaceholder: "Num├йro de T├йl├йphone",
                passwordPlaceholder: "Mot de Passe",
                selectAccountType: "S├йlectionnez le Type de Compte",
                client: "Client",
                worker: "Travailleur",
                selectService: "S├йlectionnez Votre Service",
                plumber: "Plombier",
                electrician: "├Йlectricien",
                cleaner: "Nettoyeur",
                experiencePlaceholder: "Ann├йes d'Exp├йrience",
                registerButton: "S'inscrire",
                alreadyHaveAccount: "Vous avez d├йj├а un compte?",
                loginLink: "Connexion"
            }
        };

        // Function to change language
        function changeLanguage(language) {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[language] && translations[language][key]) {
                    element.textContent = translations[language][key];
                }
            });

            // Update text direction for RTL languages (e.g., Arabic)
            if (language === "ar") {
                document.body.setAttribute("dir", "rtl");
            } else {
                document.body.setAttribute("dir", "ltr");
            }
        }

        // Initialize with default language (English)
        document.addEventListener('DOMContentLoaded', () => {
            changeLanguage('en');
        });

        // Toggle visibility of worker-specific fields
        function toggleWorkerFields(userType) {
            const workerFields = document.getElementById('workerFields');
            workerFields.classList.toggle('hidden', userType !== 'worker');
        }

        // Handle registration with feedback and redirection
        document.getElementById('registerBtn').addEventListener('click', async () => {
            const form = document.getElementById('registerForm');
            const formData = new FormData(form);
            const formObject = {};
            formData.forEach((value, key) => {
                formObject[key] = value;
            });

            try {
                const response = await fetch('/auth/register', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formObject)
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.message || 'Registration failed. Please try again.');
                }

                const result = await response.json();
                alert(result.message || 'Registration successful!');
                window.location.href = 'login.html'; // Redirect to login page
            } catch (error) {
                console.error('Error:', error);
                alert(error.message || 'An error occurred while registering.');
            }
        });
    </script>
</body>
</html>